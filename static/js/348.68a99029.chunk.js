"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[348],{348:function(e,n,r){r.r(n),r.d(n,{default:function(){return g}});var t=r(861),a=r(439),s=r(757),o=r.n(s),i=r(791),c=r(87),u=r(689),l=r(724),p="single-movie-page_div__U9z-5",v="single-movie-page_ul__QjHtn",f="single-movie-page_li__E0D5Q",d=r(184),g=function(){var e,n=(0,i.useState)(),r=(0,a.Z)(n,2),s=r[0],g=r[1],h=(0,u.s0)(),m=(0,u.TH)(),x=(null===(e=m.state)||void 0===e?void 0:e.from)||"/",w=(0,u.UO)();console.log("SingleMoviePage   location ",m),console.log("SingleMoviePage    from",x),console.log("SingleMoviePage  navigate, ",h);var _=w.media_type,k=w.id;if((0,i.useEffect)((function(){var e=function(){var e=(0,t.Z)(o().mark((function e(){var n,r,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.PB)(_,k);case 3:n=e.sent,r=n.data,g(r),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t=e.t0.response,console.log(t.data.message);case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}}),e,null,[[0,8,12,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[_,k]),s){console.log("SingleMoviePage   movieData",s);var b=s.poster_path,j=s.release_date,y=s.first_air_date,U=s.vote_average,S=s.genres;console.log("poster_path",b);var P=(0,l.PD)(b),Z=j?j.slice(0,4):y.slice(0,4),C=Math.round(parseInt(10*U)),B="";S.forEach((function(e){var n=e.name;B=B+n+" "}));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{onClick:function(){return h(x)},children:"Go back"}),(0,d.jsxs)("div",{className:p,children:[(0,d.jsx)("img",{src:P,alt:"poster"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{children:[null===s||void 0===s?void 0:s.title," (",Z,")"]}),(0,d.jsxs)("p",{children:["User score: ",C,"%"]}),(0,d.jsx)("h3",{children:"Overview"}),(0,d.jsx)("p",{children:null===s||void 0===s?void 0:s.overview}),(0,d.jsx)("h3",{children:"Genres"}),(0,d.jsx)("p",{children:B})]})]}),(0,d.jsxs)("ul",{className:v,children:["Additional information",(0,d.jsx)(c.rU,{className:f,to:"cast",state:{from:x},children:"Cast"}),(0,d.jsx)(c.rU,{className:f,to:"reviews",state:{from:x},children:"Reviews"}),(0,d.jsx)(u.j3,{})]})]})}}},724:function(e,n,r){r.d(n,{AC:function(){return g},E9:function(){return p},PB:function(){return d},PD:function(){return l},SJ:function(){return f},qo:function(){return v}});var t=r(861),a=r(757),s=r.n(a),o=r(912),i="https://api.themoviedb.org/3/",c="?api_key=1a6a0e252669dea132492bf96fa96565",u=o.Z.create({baseURL:"https://api.themoviedb.org/3/trending/movie/day?api_key=1a6a0e252669dea132492bf96fa96565"}),l=function(e){var n="https://image.tmdb.org/t/p/w500"+e;return console.log("makeImageUrl",n),n},p=function(){var e=(0,t.Z)(s().mark((function e(){var n,r,t,a,o,l=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>0&&void 0!==l[0]?l[0]:"movie",r=l.length>1?l[1]:void 0,t=i+n+"/"+r+"/reviews"+c,e.next=5,u.get(t,{params:{language:"en-US",page:1}});case 5:return a=e.sent,o=a.data,console.log("searchReviewsById",o),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,t.Z)(s().mark((function e(){var n,r,t,a,o,l=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>0&&void 0!==l[0]?l[0]:"movie",r=l.length>1?l[1]:void 0,t=i+n+"/"+r+"/credits"+c,e.next=5,u.get(t,{params:{language:"en-US"}});case 5:return a=e.sent,o=a.data,console.log("searchCast",o),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,t.Z)(s().mark((function e(n,r){var t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i+"search/"+r+c,console.log("searchByTitle",t),e.next=4,u.get(t,{params:{language:"en-US",query:n}});case 4:return a=e.sent,console.log("searchByTitle",a),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),d=function(){var e=(0,t.Z)(s().mark((function e(){var n,r,t,a,o=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:"movie",r=o.length>1?o[1]:void 0,t=i+n+"/"+r+c,e.next=5,u.get(t,{params:{language:"en-US"}});case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,t.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("https://api.themoviedb.org/3/trending/movie/day?api_key=1a6a0e252669dea132492bf96fa96565");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=348.68a99029.chunk.js.map